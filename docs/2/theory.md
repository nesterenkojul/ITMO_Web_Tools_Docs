# ЛР 2. Потоки. Процессы. Асинхронность.
# Теория

<br>

#### Синхронность
Программа выполняется последовательно. Пока не завершится предыдущий блок, следующий выполняться не начнет.

<br>

#### Процессы

- Это экземпляр программы, запущенной на компьютере.

- Каждому - по 1 ядру процессора (кол-во ядер процессора = кол-во потоков, которые могут выполняться одновременно). Когда количество процессов превышает количество ядер, решение о переключении процессора с выполнения одного процесса на выполнение другого принимается планировщиком операционной системы.

- В контексте Python каждому процессу выделен свой интерпретатор.

- Изолированы друг от друга (нет общей памяти).

- Не страдает от GIL.

- Подходит для CPU-bound задач (вычислительных).

- Тратится время на создание процесса, выделение ему ресурсов (и переключение между процессами, если мало ядер).

<br>

#### Потоки

- Это единица выполнения внутри процесса.

- Несколько внутри одного процесса.

- Делят процессорные ресурсы процесса-родителя между собой.

- Общая память.

- Страдает от Race Condition (получаем непредсказуемые результаты при работе с глобальными переменными).

- GIL решает проблему Race Condition, но сильно замедляет выполнение (в один момент времени работает лишь один поток)



<br>

#### Асинхронность

- Позволяет выполнять несколько задач одновременно, не дожидаясь завершения каждой из них.

- Работает в одном процессе и в одном потоке.

- Экономное использование памяти.

- Помогает избегать блокировок.

- Пока мы await-им функцию, объявленную с async (например, запрос к серверу и ожидание ответа или обращение к бд), можем заняться чем-то другим.

- Корутина — это то, что возвращает функция с await. Корутина дает интерпретатору возможность возобновить базовую функцию, которая была приостановлена в месте размещения ключевого слова await.

- Event loop (цикл событий) — ядро каждого приложения asyncio. Циклы событий запускают асинхронные задачи и обратные вызовы, выполняют операции сетевого ввода-вывода и запускают подпроцессы (среда для выполнения корутин в одном потоке). 

- Обертка корутин в  позволяет Задачи (Tasks) выполняются независимо друг от друга. Это значит, что их выполнение планируется в цикле событий, и что они выполняются независимо от того, что ещё происходит в создавшей их корутине. Это отличается от прямого выполнения корутины, когда вызывающая сторона должна дождаться её завершения.

- Подходит для I/O-bound задач (ввода/вывода)
